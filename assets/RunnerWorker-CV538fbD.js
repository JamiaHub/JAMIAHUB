(function(){"use strict";self.onmessage=async function(c){const{code:i,tests:l,timeoutMs:u}=c.data;try{let t;try{const r=new Function(`"use strict";
`+i+'; return typeof solve !== "undefined" ? solve : (typeof module !== "undefined" && module.exports ? module.exports : null);')();t=typeof r=="function"?r:self.solve||null}catch(e){self.postMessage({error:"Error while compiling code : "+String(e)});return}if(typeof t!="function"){self.postMessage({error:'No function named "solve" found. Define it as function solve(...) { ... } or export it.'});return}const n=[];for(const e of l){let r=!1,o;try{const s=t.apply(null,e.args);s&&typeof s.then=="function"?o=await Promise.race([s,new Promise((p,f)=>setTimeout(()=>f(new Error("Timeout")),u))]):o=s,r=a(o,e.expected)}catch(s){o="threw"+String(s),r=!1}n.push({name:e.name,passed:r,expected:e.expected,actual:o})}self.postMessage({results:n})}catch(t){self.postMessage({error:String(t)})}function a(t,n){try{return JSON.stringify(t)===JSON.stringify(n)}catch{return!1}}}})();
